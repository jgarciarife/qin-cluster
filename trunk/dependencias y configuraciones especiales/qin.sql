DROP DATABASE qin;CREATE DATABASE qin;USE qin;CREATE TABLE usuario (	id bigint(20) NOT NULL AUTO_INCREMENT,	apellido varchar(255) NOT NULL,	contrasenia_usuario varchar(255) NOT NULL,	nombre varchar(255) NOT NULL,	nombre_usuario varchar(255) NOT NULL,	PRIMARY KEY (id),	UNIQUE KEY nombre_usuario (nombre_usuario)) ENGINE=InnoDB DEFAULT CHARSET=latin1;CREATE TABLE alumno (	padron varchar(255) NOT NULL,	id bigint(20) NOT NULL,	PRIMARY KEY (id),	KEY alumno_key_1 (id),	CONSTRAINT alumno_constraint_1 FOREIGN KEY (id) REFERENCES usuario (id)) ENGINE=InnoDB DEFAULT CHARSET=latin1;CREATE TABLE docente (	matricula varchar(255) NOT NULL,	id bigint(20) NOT NULL,	PRIMARY KEY (id),	KEY docente_key_1 (id),	CONSTRAINT docente_constraint_1 FOREIGN KEY (id) REFERENCES usuario (id)) ENGINE=InnoDB DEFAULT CHARSET=latin1;CREATE TABLE materia (	id bigint(20) NOT NULL AUTO_INCREMENT,	anio bigint(20) NOT NULL,	carrera varchar(255) NOT NULL,	codigo varchar(255) NOT NULL,	cuatrimestre int(11) NOT NULL,	nombre varchar(255) NOT NULL,	docente_id bigint(20) DEFAULT NULL,	PRIMARY KEY (id),	KEY materia_key_1 (docente_id),	CONSTRAINT materia_constraint_1 FOREIGN KEY (docente_id) REFERENCES docente (id)) ENGINE=InnoDB DEFAULT CHARSET=latin1;INSERT INTO materia (id, anio, carrera, codigo, cuatrimestre, nombre, docente_id) VALUES (1,2010,'75','75.25', 1, 'Calidad', null);INSERT INTO materia (id, anio, carrera, codigo, cuatrimestre, nombre, docente_id) VALUES (2,2010,'75','75.25', 1, 'Calidad', null);CREATE TABLE grupo (	id bigint(20) NOT NULL AUTO_INCREMENT,	alumno_principal_id bigint(20) DEFAULT NULL,	materia_id bigint(20) DEFAULT NULL,	PRIMARY KEY (id),	KEY grupo_key_1 (materia_id),	KEY grupo_key_2 (alumno_principal_id),	CONSTRAINT grupo_constraint_1 FOREIGN KEY (materia_id) REFERENCES materia (id),	CONSTRAINT grupo_constraint_2 FOREIGN KEY (alumno_principal_id) REFERENCES alumno (id)) ENGINE=InnoDB DEFAULT CHARSET=latin1;CREATE TABLE alumno_materia (	alumno_id bigint(20) NOT NULL,	materia_id bigint(20) NOT NULL,	PRIMARY KEY (alumno_id, materia_id),	KEY alumno_materia_key_1 (materia_id),	KEY alumno_materia_key_2 (alumno_id),	CONSTRAINT alumno_materia_constraint_1 FOREIGN KEY (materia_id) REFERENCES materia (id),	CONSTRAINT alumno_materia_constraint_2 FOREIGN KEY (alumno_id) REFERENCES alumno (id)) ENGINE=InnoDB DEFAULT CHARSET=latin1;CREATE TABLE alumno_principal_grupo (	alumno_id bigint(20) NOT NULL,	grupo_id bigint(20) NOT NULL,	PRIMARY KEY (alumno_id, grupo_id),	KEY alumno_principal_grupo_key_1 (grupo_id),	KEY alumno_principal_grupo_key_2 (alumno_id),	CONSTRAINT alumno_principal_grupo_constraint_1 FOREIGN KEY (grupo_id) REFERENCES grupo (id),	CONSTRAINT alumno_principal_grupo_constraint_2 FOREIGN KEY (alumno_id) REFERENCES alumno (id)) ENGINE=InnoDB DEFAULT CHARSET=latin1;CREATE TABLE grupo_alumno (	grupo_id bigint(20) NOT NULL,	alumno_id bigint(20) NOT NULL,	PRIMARY KEY (grupo_id, alumno_id),	KEY grupo_alumno_key_1 (grupo_id),	KEY grupo_alumno_key_2 (alumno_id),	CONSTRAINT grupo_alumno_constraint_1 FOREIGN KEY (grupo_id) REFERENCES grupo (id),	CONSTRAINT grupo_alumno_constraint_2 FOREIGN KEY (alumno_id) REFERENCES alumno (id)) ENGINE=InnoDB DEFAULT CHARSET=latin1;CREATE TABLE trabajo_practico (	id bigint(20) NOT NULL AUTO_INCREMENT,	titulo varchar(255) DEFAULT NULL,	materia_id bigint(20) DEFAULT NULL,	PRIMARY KEY (id),	KEY trabajo_practico_key_1 (materia_id),	CONSTRAINT trabajo_practico_1 FOREIGN KEY (materia_id) REFERENCES materia (id)) ENGINE=InnoDB DEFAULT CHARSET=latin1;INSERT INTO trabajo_practico (id, titulo, materia_id) VALUES (1,'Un titulo',1);CREATE TABLE resolucion (	id bigint(20) NOT NULL AUTO_INCREMENT,	grupo_id bigint(20) DEFAULT NULL,	trabajo_practico_id bigint(20) DEFAULT NULL,	PRIMARY KEY (id),	KEY resolucion_key_1 (trabajo_practico_id),	KEY resolucion_key_2 (grupo_id),	CONSTRAINT resolucion_constraint_1 FOREIGN KEY (grupo_id) REFERENCES grupo (id),	CONSTRAINT resolucion_constraint_2 FOREIGN KEY (trabajo_practico_id) REFERENCES trabajo_practico (id)) ENGINE=InnoDB DEFAULT CHARSET=latin1;CREATE TABLE consigna (	id bigint(20) NOT NULL AUTO_INCREMENT,	consigna varchar(255) NOT NULL,	orden int(11) NOT NULL,	puntaje double NOT NULL,	trabajoPractico_id bigint(20) DEFAULT NULL,	PRIMARY KEY (id),	KEY consigna_key_1 (trabajoPractico_id),	CONSTRAINT consigna_constraint_1 FOREIGN KEY (trabajoPractico_id) REFERENCES trabajo_practico (id)) ENGINE=InnoDB DEFAULT CHARSET=latin1;INSERT INTO consigna (id, consigna, orden, puntaje, trabajoPractico_id) VALUES (1, 'Una consigna', 0, 2, 1);INSERT INTO consigna (id, consigna, orden, puntaje, trabajoPractico_id) VALUES (2, 'Dos consigna', 1, 2, 1);INSERT INTO consigna (id, consigna, orden, puntaje, trabajoPractico_id) VALUES (3, 'Tres consigna', 2, 2, 1);INSERT INTO consigna (id, consigna, orden, puntaje, trabajoPractico_id) VALUES (4, 'Cuatro consigna', 3, 2, 1);INSERT INTO consigna (id, consigna, orden, puntaje, trabajoPractico_id) VALUES (5, 'Cinco consigna', 4, 2, 1);CREATE TABLE respuesta (	id bigint(20) NOT NULL AUTO_INCREMENT,	respuesta varchar(255) NOT NULL,	consigna_id bigint(20) DEFAULT NULL,	resolucion_id bigint(20) DEFAULT NULL,	PRIMARY KEY (id),	KEY respuesta_key_1 (resolucion_id),	KEY respuesta_key_2 (consigna_id),	CONSTRAINT respuesta_constraint_1 FOREIGN KEY (consigna_id) REFERENCES consigna (id),	CONSTRAINT respuesta_constraint_2 FOREIGN KEY (resolucion_id) REFERENCES resolucion (id)) ENGINE=InnoDB DEFAULT CHARSET=latin1;CREATE TABLE dictamen (	id bigint(20) NOT NULL AUTO_INCREMENT,	dictamen varchar(255) NOT NULL,	puntaje double NOT NULL,	resolucion_id bigint(20) DEFAULT NULL,	PRIMARY KEY (id),	KEY dictamen_key_1 (resolucion_id),	CONSTRAINT dictamen_constraint_1 FOREIGN KEY (resolucion_id) REFERENCES resolucion (id)) ENGINE=InnoDB DEFAULT CHARSET=latin1;CREATE TABLE correccion (	id bigint(20) NOT NULL AUTO_INCREMENT,	correccion varchar(255) NOT NULL,	puntaje double NOT NULL,	dictamen_id bigint(20) DEFAULT NULL,	respuesta_id bigint(20) DEFAULT NULL,	PRIMARY KEY (id),	KEY correccion_key_1 (respuesta_id),	KEY correccion_key_2 (dictamen_id),	CONSTRAINT correccion_constraint_1 FOREIGN KEY (respuesta_id) REFERENCES respuesta (id),	CONSTRAINT correccion_constraint_2 FOREIGN KEY (dictamen_id) REFERENCES dictamen (id)) ENGINE=InnoDB DEFAULT CHARSET=latin1;