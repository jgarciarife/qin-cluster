DROP DATABASE IF EXISTS qin;CREATE DATABASE IF NOT EXISTS qin;USE qin;CREATE TABLE usuario (	id BIGINT(20) NOT NULL AUTO_INCREMENT,	apellido VARCHAR(255) NOT NULL,	contrasenia_usuario VARCHAR(255) NOT NULL,	nombre VARCHAR(255) NOT NULL,	nombre_usuario VARCHAR(255) NOT NULL,	PRIMARY KEY (id),	UNIQUE KEY usuario_unique_key_1 (nombre_usuario)) ENGINE=InnoDB AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;CREATE TABLE alumno (	id BIGINT(20) NOT NULL,	padron VARCHAR(255) NOT NULL,	PRIMARY KEY (id),	UNIQUE KEY alumno_unique_key_1 (padron),	CONSTRAINT alumno_constraint_1 FOREIGN KEY (id) REFERENCES usuario (id)) ENGINE=InnoDB DEFAULT CHARSET=latin1;CREATE TABLE docente (	id BIGINT(20) NOT NULL,	matricula VARCHAR(255) NOT NULL,	PRIMARY KEY (id),	UNIQUE KEY docente_key_1 (matricula),	CONSTRAINT docente_constraint_1 FOREIGN KEY (id) REFERENCES usuario (id)) ENGINE=InnoDB DEFAULT CHARSET=latin1;CREATE TABLE materia (	id BIGINT(20) NOT NULL AUTO_INCREMENT,	anio BIGINT(20) NOT NULL,	carrera VARCHAR(255) NOT NULL,	codigo VARCHAR(255) NOT NULL,	cuatrimestre INT(11) NOT NULL,	nombre VARCHAR(255) NOT NULL,	docente_id BIGINT(20) DEFAULT NULL,	PRIMARY KEY (id),	UNIQUE KEY materia_unique_key_1 (anio, cuatrimestre, carrera),	KEY materia_key_1 (docente_id),	CONSTRAINT materia_constraint_1 FOREIGN KEY (docente_id) REFERENCES docente (id)) ENGINE=InnoDB AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;CREATE TABLE trabajo_practico (	id BIGINT(20) NOT NULL AUTO_INCREMENT,	titulo VARCHAR(255) DEFAULT NULL,	materia_id BIGINT(20) DEFAULT NULL,	PRIMARY KEY (id),	KEY trabajo_practico_key_1 (materia_id),	CONSTRAINT trabajo_practico_constraint_1 FOREIGN KEY (materia_id) REFERENCES materia (id)) ENGINE=InnoDB AUTO_INCREMENT=0  CHARSET=latin1;CREATE TABLE resolucion (	id BIGINT(20) NOT NULL AUTO_INCREMENT,	trabajo_practico_id BIGINT(20) DEFAULT NULL,	codigo_resolucion_compartida VARCHAR(255) NOT NULL,	PRIMARY KEY (id),	UNIQUE KEY resolucion_unique_key_1 (trabajo_practico_id, codigo_resolucion_compartida),	KEY resolucion_key_1 (trabajo_practico_id),	CONSTRAINT resolucion_constraint_1 FOREIGN KEY (trabajo_practico_id) REFERENCES trabajo_practico (id)) ENGINE=InnoDB AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;CREATE TABLE grupo (	id BIGINT(20) NOT NULL AUTO_INCREMENT,	materia_id BIGINT(20) DEFAULT NULL,	resolucion_id BIGINT(20) DEFAULT NULL,	PRIMARY KEY (id),	UNIQUE KEY grupo_unique_key_1 (resolucion_id),	KEY grupo_key_1 (materia_id),	KEY grupo_key_2 (resolucion_id),	CONSTRAINT grupo_constraint_1 FOREIGN KEY (materia_id) REFERENCES materia (id),	CONSTRAINT grupo_constraint_2 FOREIGN KEY (resolucion_id) REFERENCES resolucion (id)) ENGINE=InnoDB AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;CREATE TABLE alumno_materia (	alumno_id BIGINT(20) NOT NULL,	materia_id BIGINT(20) NOT NULL,	UNIQUE KEY alumno_materia_unique_key_1 (alumno_id, materia_id),	KEY alumno_materia_key_1 (materia_id),	KEY alumno_materia_key_2 (alumno_id),	CONSTRAINT alumno_materia_constraint_1 FOREIGN KEY (materia_id) REFERENCES materia (id),	CONSTRAINT alumno_materia_constraint_2 FOREIGN KEY (alumno_id) REFERENCES alumno (id)) ENGINE=InnoDB DEFAULT CHARSET=latin1;CREATE TABLE grupo_alumno (	grupo_id BIGINT(20) NOT NULL,	alumno_id BIGINT(20) NOT NULL,	UNIQUE KEY grupo_alumno_unique_key_1 (grupo_id, alumno_id),	KEY grupo_alumno_key_1 (grupo_id),	KEY grupo_alumno_key_2 (alumno_id),	CONSTRAINT grupo_alumno_constraint_1 FOREIGN KEY (grupo_id) REFERENCES grupo (id),	CONSTRAINT grupo_alumno_constraint_2 FOREIGN KEY (alumno_id) REFERENCES alumno (id)) ENGINE=InnoDB DEFAULT CHARSET=latin1;CREATE TABLE consigna (	id BIGINT(20) NOT NULL AUTO_INCREMENT,	consigna VARCHAR(255) NOT NULL,	orden INT(11) NOT NULL,	puntaje DOUBLE NOT NULL,	trabajo_practico_id BIGINT(20) DEFAULT NULL,	PRIMARY KEY (id),	UNIQUE KEY consigna_unique_key_1 (id, trabajo_practico_id),	KEY consigna_key_1 (trabajo_practico_id),	CONSTRAINT consigna_constraint_1 FOREIGN KEY (trabajo_practico_id) REFERENCES trabajo_practico (id)) ENGINE=InnoDB AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;CREATE TABLE respuesta (	id BIGINT(20) NOT NULL AUTO_INCREMENT,	respuesta VARCHAR(255) NOT NULL,	consigna_id BIGINT(20) DEFAULT NULL,	resolucion_id BIGINT(20) DEFAULT NULL,	PRIMARY KEY (id),	UNIQUE KEY respuesta_unique_key_1 (resolucion_id, consigna_id),	KEY respuesta_key_1 (resolucion_id),	KEY respuesta_key_2 (consigna_id),	CONSTRAINT respuesta_constraint_1 FOREIGN KEY (consigna_id) REFERENCES consigna (id),	CONSTRAINT respuesta_constraint_2 FOREIGN KEY (resolucion_id) REFERENCES resolucion (id)) ENGINE=InnoDB AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;CREATE TABLE dictamen (	id BIGINT(20) NOT NULL AUTO_INCREMENT,	dictamen VARCHAR(255) NOT NULL,	puntaje DOUBLE NOT NULL,	resolucion_id BIGINT(20) DEFAULT NULL,	PRIMARY KEY (id),	UNIQUE KEY dictamen_key_1 (resolucion_id),	CONSTRAINT dictamen_constraint_1 FOREIGN KEY (resolucion_id) REFERENCES resolucion (id)) ENGINE=InnoDB AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;CREATE TABLE correccion (	id BIGINT(20) NOT NULL AUTO_INCREMENT,	correccion VARCHAR(255) NOT NULL,	puntaje DOUBLE NOT NULL,	dictamen_id BIGINT(20) DEFAULT NULL,	respuesta_id BIGINT(20) DEFAULT NULL,	PRIMARY KEY (id),	UNIQUE KEY correccion_unique_key_1 (dictamen_id, respuesta_id),	KEY correccion_key_1 (respuesta_id),	KEY correccion_key_2 (dictamen_id),	CONSTRAINT correccion_constraint_1 FOREIGN KEY (respuesta_id) REFERENCES respuesta (id),	CONSTRAINT correccion_constraint_2 FOREIGN KEY (dictamen_id) REFERENCES dictamen (id)) ENGINE=InnoDB AUTO_INCREMENT=0 DEFAULT CHARSET=latin1;